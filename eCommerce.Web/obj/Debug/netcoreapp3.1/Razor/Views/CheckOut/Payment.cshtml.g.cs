#pragma checksum "D:\eCommerce\eCommerce.Web\Views\CheckOut\Payment.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "79ea1f26bddface17ed2b142e1ab296a683cf678"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_CheckOut_Payment), @"mvc.1.0.view", @"/Views/CheckOut/Payment.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "D:\eCommerce\eCommerce.Web\Views\_ViewImports.cshtml"
using eCommerce.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\eCommerce\eCommerce.Web\Views\_ViewImports.cshtml"
using eCommerce.Web.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"79ea1f26bddface17ed2b142e1ab296a683cf678", @"/Views/CheckOut/Payment.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"b9a16393c34df7e06aa69416c0c5d9467f09a17b", @"/Views/_ViewImports.cshtml")]
    public class Views_CheckOut_Payment : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n");
#nullable restore
#line 2 "D:\eCommerce\eCommerce.Web\Views\CheckOut\Payment.cshtml"
  
    ViewData["Title"] = "Thanh toán (Bước 3)";
    Layout = "~/Views/Shared/_Layout.cshtml";

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
<div class=""osahan-breadcrumb"">
    <div class=""container"">
        <div class=""row"">
            <div class=""col-lg-12 col-md-12"">
                <ol class=""breadcrumb"">
                    <li class=""breadcrumb-item""><a href=""#"">Trang chủ</a></li>
                    <li class=""breadcrumb-item active"">Thanh toán</li>
                </ol>
            </div>
        </div>
    </div>
</div>

<section class=""shopping_cart_page"">
    <div class=""container"">
        <div class=""row"">
            <div class=""col-lg-12 col-md-12"">
                <div class=""checkout-step mb-40"">
                    <ul>
                        <li><a href=""/checkout""><div class=""step""><div class=""line""></div><div class=""circle"">1</div></div><span>Thông tin</span></a></li>
                        <li><a href=""/checkout/cart""><div class=""step""><div class=""line""></div><div class=""circle"">2</div></div><span>Giỏ hàng</span></a></li>
                        <li class=""active""><a href=""/checkout/payment""><div cl");
            WriteLiteral("ass=\"step\"><div class=\"line\"></div><div class=\"circle\">3</div></div><span>Thanh toán</span></a></li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n          \r\n    </div>\r\n</section>\r\n\r\n");
            DefineSection("scripts", async() => {
                WriteLiteral(@"
    <script>

        function checkCustomer() {
            var customer = localStorage.getItem('customer');
            if (customer == null || customer == 'null' || customer == '') {
                location.href = '/checkout';
                return;
            }
        }
        $(document).ready(function () {
            checkCustomer();
            checkCart();

            ajaxGet('Bank', null, function (res) {
                if (res.IsSuccess) {
                    let data = res.Result;
                    let html = data.map(item => (`
                                            <div class=""item col-md-12 cursor-pointer"">
                                                    <div class=""h-100"">
                                                        <div class=""product-item bank-item"" data-bank=""${item.Id}"" onclick=""selectBank(this)"">
                                                            <div class=""news-item-image"" style=""padding: 10px!important;"">
                   ");
                WriteLiteral(@"                                             <a href=""javascript:void(0)""><img class=""card-img-top img-fluid m-atuo"" style=""max-width: 200px;"" src=""${item.Logo}"" alt=""""></a>
<div class=""alert alert-light bg-light text-dark border-0"">
                                                                    <p class=""text-primary font-weight-bold"">Chủ tài khoản: Nguyễn Văn A</p>
                                                                    <p class=""text-primary font-weight-bold"">STK: 109.100.348.7066</p>
                                                                    <p class=""text-primary font-weight-bold"">AN BÌNH CN ĐỒNG NAI PGD CHỢ BIÊN HÒA</p>
</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                        `));
                    $(""#divBank"").html(html);
          ");
                WriteLiteral(@"      }
            });
        });

        var CURRENT_BANK = 0;

        // event ẩn hiện form chủ thẻ vs số thẻ khi chọn phương thứ thanh toán
        $('input[name=""PaymentType""]').on('change', function (e) {
            if (e.target.value == '1') {
                $('#divInfo').removeClass('d-none');
            } else {
                $('#divInfo').addClass('d-none');
            }
        });

        // event togle border cho thẻ ngân hàng
        function selectBank(e) {
            $('.bank-item').removeClass('border border-primary ');
            $(e).addClass('border border-primary');
            CURRENT_BANK = $(e).attr('data-bank');
        }

        // event người dùng nhẫn xác nhận
        function confirmClick() {
       
            // Khi người dùng chọn thanh toán qua thẻ ngân hàng thì phải phâp họ tên vs số Tk
            var payment = formToObject('#form-payment');
            let valid = false;
            if (payment.PaymentType == 1) {
                i");
                WriteLiteral(@"f (IsNullOrEmpty(payment.CardName)) {
                    $('#lb-error-card-name').removeClass('d-none');
                    valid = false;
                } else {
                    $('#lb-error-card-name').addClass('d-none');
                    valid = true;
                }

                if (IsNullOrEmpty(payment.CardNumber)) {
                    $('#lb-error-card-number').removeClass('d-none');
                    valid = false;
                } else {
                    $('#lb-error-card-number').addClass('d-none');
                    valid = true;
                }
                if (CURRENT_BANK == 0 && payment.PaymentType == 1) {
                    $(""#lb-error-bank"").removeClass('d-none')
                    return;
                } else {
                    if (CURRENT_BANK == 0 && payment.PaymentType == 1) {
                        $(""#lb-error-bank"").addClass('d-none')
                    }
                }

                if (!valid) {
                  ");
                WriteLiteral("  return;\r\n                }\r\n            }\r\n\r\n           \r\n\r\n        }\r\n\r\n    </script>\r\n\r\n\r\n");
            }
            );
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
